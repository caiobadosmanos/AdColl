{% extends "layout.html" %}

{% block title %}
Explore
{% endblock %}

{% block main %}

<h1>Pop-up persistente com notificação!</h1>

<button id="notifyButton">Clique para receber notificação</button>

<script>
    // Função para solicitar permissão e mostrar a notificação
    function requestNotificationPermission() {
        if ("Notification" in window) {
            Notification.requestPermission().then(function(permission) {
                if (permission === "granted") {
                    var notification = new Notification("Pop-up Persistente!", {
                        body: "Este é um pop-up que permanecerá enquanto o navegador estiver aberto.",
                        icon: "https://via.placeholder.com/150"
                    });

                    // Ação ao clicar na notificação
                    notification.onclick = function() {
                        window.focus();
                    };
                } else {
                    alert("Você precisa permitir notificações para ver o pop-up.");
                }
            });
        } else {
            alert("Seu navegador não suporta notificações.");
        }
    }

    // Adiciona o ouvinte de evento para o clique do botão
    document.getElementById("notifyButton").onclick = requestNotificationPermission;
</script>

{% endblock %}
